# 租房信息管理系统 - 快速启动指南

## 项目已创建完成 ✅

所有核心文件已创建，现在需要安装依赖并启动项目。

## 启动步骤

### 1. 安装依赖

在项目根目录打开终端，执行：

```bash
npm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

服务器将自动在浏览器中打开 `http://localhost:3000`

## 功能说明

### 核心功能已实现

✅ **批量导入照片**
- 点击"选择照片文件夹"授权访问本地照片目录
- 点击"扫描文件夹"自动读取照片 EXIF 信息
- 自动创建"待完善"房东记录

✅ **地图可视化**
- 高德地图展示房东位置
- 不同房东类型显示不同颜色标记
- 点击标记查看简要信息

✅ **房东信息管理**
- 点击列表中的房东打开详情抽屉
- 补录电话号码、房东类型等信息
- 自动检测电话重复，支持合并记录

✅ **筛选功能**
- 按房东类型筛选
- 按微信状态筛选
- 按联系状态筛选
- 按完善状态筛选

✅ **数据导出**
- 导出为 Excel 表格
- 导出为 JSON 格式备份

## 项目结构

```
rent-tools/
├── src/
│   ├── components/
│   │   ├── PhotoUpload.vue       # 照片批量上传组件
│   │   ├── MapView.vue            # 地图展示组件
│   │   └── PropertyDetail.vue     # 房东详情抽屉
│   ├── stores/
│   │   └── property.ts            # Pinia 状态管理
│   ├── types/
│   │   ├── index.ts               # 核心类型定义
│   │   └── fileSystemAccess.d.ts  # File System API 类型
│   ├── utils/
│   │   ├── exif.ts                # EXIF 提取 + 坐标转换
│   │   ├── fileSystem.ts          # 文件系统访问封装
│   │   ├── geocode.ts             # 高德地图逆地理编码
│   │   ├── storage.ts             # IndexedDB 操作
│   │   └── export.ts              # Excel/JSON 导出
│   ├── App.vue                    # 主应用布局
│   ├── main.ts                    # 应用入口
│   └── style.css                  # 全局样式
├── docs/
│   └── 完整项目需求文档_v2.md
├── package.json
├── vite.config.ts
├── tsconfig.json
└── README.md
```

## 使用流程

### 第一次使用

1. **准备照片**
   - 确保照片包含 GPS 信息（使用原生相机拍摄）
   - 将照片存放在本地某个文件夹（如 `D:\租房照片`）

2. **导入照片**
   - 点击"选择照片文件夹"，选择照片所在目录
   - 授予浏览器访问权限（仅需一次）
   - 点击"扫描文件夹"，系统自动导入

3. **补录信息**
   - 在列表中点击"待完善"的房东
   - 查看照片，手动填写电话号码
   - 填写房东类型、备注名等信息
   - 保存

4. **管理和筛选**
   - 使用左侧筛选条件快速查找
   - 在地图上直观查看位置分布
   - 导出数据备份

## 浏览器要求

- ✅ Chrome 86+
- ✅ Edge 86+
- ✅ Opera 72+
- ❌ Firefox（需启用实验性功能）
- ❌ Safari（暂不支持）

## 注意事项

1. **文件夹权限**
   - 首次使用需授予文件夹访问权限
   - 权限会持久化保存，浏览器重启后仍有效
   - 如权限失效，重新选择文件夹即可

2. **GPS 坐标**
   - 照片必须包含 GPS 信息才能在地图上显示
   - 微信/QQ 传输的照片会丢失 GPS 数据
   - 建议使用数据线或云盘原图传输

3. **数据备份**
   - 定期导出 JSON 备份文件
   - IndexedDB 数据存储在浏览器本地
   - 清除浏览器数据会导致数据丢失

4. **高德地图 API**
   - 已配置好 API Key 和安全密钥
   - 个人开发者每日限额 30 万次调用
   - 批量导入时已增加节流延迟

## 下一步优化建议

如果您需要扩展功能，可以参考需求文档中的"未来功能扩展计划"：

- 📸 多照片管理
- 🎥 视频功能完善
- 🗺️ 地图标记聚合
- 📊 数据分析仪表盘
- 🏷️ 标签系统
- 🔍 智能搜索

## 遇到问题？

1. **依赖安装失败**
   ```bash
   # 清除缓存后重试
   npm cache clean --force
   npm install
   ```

2. **类型错误**
   - 确保所有依赖都已安装
   - 重启 VS Code 或运行 `vue.action.restartServer`

3. **地图不显示**
   - 检查浏览器控制台是否有错误
   - 确认网络连接正常（高德地图需联网）

4. **文件访问失败**
   - 确认使用的是支持的浏览器
   - 检查文件夹权限是否被撤销

## 开发建议

- 使用 Chrome DevTools 的 Application 标签查看 IndexedDB 数据
- 使用 Vue DevTools 调试组件状态
- 查看浏览器控制台了解错误信息

---

祝您使用愉快！如有问题欢迎反馈。
